<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.60">
<link rel="search" type="application/opensearchdescription+xml" title="Next.js with MOXY" href="/opensearch.xml"><title data-react-helmet="true">Adding a splash screen | Next.js with MOXY</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Adding a splash screen | Next.js with MOXY"><meta data-react-helmet="true" name="description" content="Certain pages have impactful experiences. These experiences can make the total bundle size larger as they pack possibly large dependencies and media assets, such as 3D objects and audio files."><meta data-react-helmet="true" property="og:description" content="Certain pages have impactful experiences. These experiences can make the total bundle size larger as they pack possibly large dependencies and media assets, such as 3D objects and audio files."><meta data-react-helmet="true" property="og:url" content="https://next-with.moxy.tech/docs/recipes/splash-screen"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://next-with.moxy.tech/docs/recipes/splash-screen"><link rel="stylesheet" href="/styles.56dea92f.css">
<link rel="preload" href="/styles.51f49359.js" as="script">
<link rel="preload" href="/runtime~main.9ca25041.js" as="script">
<link rel="preload" href="/main.48700671.js" as="script">
<link rel="preload" href="/1.61890892.js" as="script">
<link rel="preload" href="/2.67b377a2.js" as="script">
<link rel="preload" href="/37.53b542f7.js" as="script">
<link rel="preload" href="/40.e3b37ae4.js" as="script">
<link rel="preload" href="/20ac7829.879bb2b8.js" as="script">
<link rel="preload" href="/17896441.89eb0a52.js" as="script">
<link rel="preload" href="/77d3348d.cbfd45ff.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo-nwm.png" alt="Next.js with MOXY"><strong class="navbar__title">Next.js with MOXY</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/moxystudio/next-with-moxy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx moon_6SPT"></span></div><div class="react-toggle-track-x"><span class="toggle_BsTx sun_152_"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo-nwm.png" alt="Next.js with MOXY"><strong class="navbar__title">Next.js with MOXY</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/moxystudio/next-with-moxy" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC sidebarWithHideableNavbar_2IoJ"><a tabindex="-1" class="sidebarLogo_Snse" href="/"><img src="/img/logo-nwm.png" alt="Next.js with MOXY"><strong>Next.js with MOXY</strong></a><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Welcome</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/welcome/what-is-this">What is this</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/welcome/instructions">Instructions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/welcome/conventions">Conventions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">What&#x27;s included</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/available-scripts">Available scripts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/eslint-stylelint">ESLint &amp; Stylelint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/css-modules">CSS Modules with PostCSS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/customizable-layout-support">Customizable layout support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/customizable-page-transitions">Customizable page transitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/internationalization">Internationalization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/sitemap-robots">Sitemap &amp; robots.txt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/analytics">Analytics and cookie consents</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/testing-with-jest-rtl">Testing with Jest &amp; RTL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/browser-support">Browser support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/environment-variables">Environment variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/docker">Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/webpack-file-loaders">Webpack file loaders</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/webpack-one-of-rules">Webpack oneOf rules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/node-modules-compiling">Node modules compiling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-included/everything-else">And everything from Next.js</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Recipes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/rest-api">Simple REST API</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/recipes/splash-screen">Splash screen</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/video-player">Video player</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/favicon-os-theme">Favicon according to OS theme</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/contentful">Contentful</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/dato-cms">DatoCMS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/setting-up-redux">Redux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/dropdown">Dropdown</a></li><li class="menu__list-item"><a href="https://next-with-moxy-recipes.moxy.tech" target="_blank" rel="noreferrer noopener" class="menu__link" tabindex="0">Private recipes</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/this-document">This document</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Adding a splash screen</h1></header><div class="markdown"><p>Certain pages have impactful experiences. These experiences can make the total bundle size larger as they pack possibly large dependencies and media assets, such as 3D objects and audio files.</p><p>It&#x27;s then often normal to preload all the required files for an uninterrupted experience. This recipe explains how you can leverage <a href="https://github.com/moxystudio/react-wait-for-react" target="_blank" rel="noopener noreferrer"><code>@moxy/react-wait-for-react</code></a> to display a <strong>splash screen</strong> before your static or server-side rendered app becomes interactive, and optionally until all the required files are loaded (via a promise).</p><blockquote><p>⚠️ You should still render the app or page contents &quot;below&quot; the splash screen, to keep your website SEO friendly.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="walk-through"></a>Walk-through<a aria-hidden="true" tabindex="-1" class="hash-link" href="#walk-through" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="1-install-moxyreact-wait-for-react"></a>1. Install <code>@moxy/react-wait-for-react</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-install-moxyreact-wait-for-react" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm i @moxy/react-wait-for-react</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="2-add-splashscreen--to-your-project"></a>2. Add <code>&lt;SplashScreen /&gt;</code> to your project<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-add-splashscreen--to-your-project" title="Direct link to heading">#</a></h3><p>Copy the <a href="https://github.com/moxystudio/next-with-moxy/tree/master/docusaurus/static/recipes-assets/react-splash-screen" target="_blank" rel="noopener noreferrer"><code>react-splash-screen</code></a> component folder into <code>www/shared/react</code> and adjust the component you just copied according to what was designed for your project.</p><blockquote><p>ℹ️ As a rule of thumb, you should show the app icon or a welcoming message in the splash screen while the page is being preloaded, and only reveal a loading indicator after <strong>2 or 3 seconds</strong>. Users don&#x27;t like seing a loading indicator, therefore we defer showing it only if the preload is taking more than usual.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="3-add-the-error-message-translation"></a>3. Add the error message translation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-add-the-error-message-translation" title="Direct link to heading">#</a></h3><p>The <code>splash-screen.error</code> message will be displayed in case the promise is rejected. If your translations are defined in <code>intl/messages</code>, add the following entry into each locale&#x27;s json (translated according to each language):</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;splash-screen.error&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Oops, something went bad. Please refresh to try again.&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="4-define-the-z-index-splash-screen-css-variable"></a>4. Define the <code>z-index-splash-screen</code> CSS variable<a aria-hidden="true" tabindex="-1" class="hash-link" href="#4-define-the-z-index-splash-screen-css-variable" title="Direct link to heading">#</a></h3><p>Add <code>z-index-splash-screen</code> CSS variable to <code>www/shared/styles/imports/variables.css</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-css codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* ==========================================================================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   Z-index</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   ========================================================================== */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token selector pseudo-class" style="color:rgb(199, 146, 234)">:root</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* ... */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token variable" style="color:rgb(191, 199, 213)">--z-index-splash-screen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>The value of <code>z-index-splash-screen</code> should be one of the highest <code>z-index</code> values so that the splash screen appears above everything else.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="5-include-splashscreen--into-your-root-layouts"></a>5. Include <code>&lt;SplashScreen /&gt;</code> into your root layout(s)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#5-include-splashscreen--into-your-root-layouts" title="Direct link to heading">#</a></h3><p>Because browsers stream the HTML response from the server and render it as soon as possible, the splash screen should be one of the top most HTML elements. One way to do this, is to include the <code>&lt;SplashScreen /&gt;</code> in your root layout(s).</p><p>As an example, here&#x27;s how you would integrate <code>&lt;SplashScreen /&gt;</code> into the built-in <code>&lt;MainLayout /&gt;</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name">SplashScreen</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;../react-splash-screen&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(130, 170, 255)">MainLayout</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter"> splashPromise</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> splashOnDone</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> children </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> styles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">mainLayout</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> splashPromise </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">SplashScreen</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                promise</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> splashPromise </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                onDone</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> splashOnDone </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* ... */</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">MainLayout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">propTypes</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    splashPromise</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">PropTypes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    splashOnDone</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">PropTypes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">func</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><blockquote><p>⚠️ You may need to adjust the tests for the <code>&lt;MainLayout /&gt;</code> component to account fo the splash screen.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="6-finally-use-it-in-a-page"></a>6. Finally, use it in a page<a aria-hidden="true" tabindex="-1" class="hash-link" href="#6-finally-use-it-in-a-page" title="Direct link to heading">#</a></h3><p>Assuming you integrated the splash screen into the <code>&lt;MainLayout /&gt;</code> as exemplified above, you could then use <code>withLayout</code> to set the layout&#x27;s <code>splashPromise</code> prop directly from a page. Here&#x27;s an example of the <code>&lt;Home /&gt;</code> page defining a fake <code>splashPromise</code> that resolves in 5 seconds:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> withLayout </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@moxy/next-layout&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name">MainLayout</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;../../shared/react/main-layout&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// This promise should load the assets necessary for the experience,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// such as 3D objects, materials, videos, audio files, etc.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Optionally, it may be a PPromise that reports progress: https://github.com/sindresorhus/p-progress</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> splashPromise </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Promise</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setTimeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(130, 170, 255)">Home</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">withLayout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">MainLayout</span><span class="token plain"> splashPromise</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> splashPromise </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Home</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><blockquote><p>ℹ️ If your project doesn&#x27;t use <code>@moxy/next-layout</code> nor layouts, you may instead use <code>&lt;SplashScreen /&gt;</code> directly at the top of your page components.</p></blockquote></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/recipes/rest-api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Adding a simple REST API</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/recipes/video-player"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Adding a video player »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#walk-through" class="table-of-contents__link">Walk-through</a><ul><li><a href="#1-install-moxyreact-wait-for-react" class="table-of-contents__link">1. Install <code>@moxy/react-wait-for-react</code></a></li><li><a href="#2-add-splashscreen--to-your-project" class="table-of-contents__link">2. Add <code>&lt;SplashScreen /&gt;</code> to your project</a></li><li><a href="#3-add-the-error-message-translation" class="table-of-contents__link">3. Add the error message translation</a></li><li><a href="#4-define-the-z-index-splash-screen-css-variable" class="table-of-contents__link">4. Define the <code>z-index-splash-screen</code> CSS variable</a></li><li><a href="#5-include-splashscreen--into-your-root-layouts" class="table-of-contents__link">5. Include <code>&lt;SplashScreen /&gt;</code> into your root layout(s)</a></li><li><a href="#6-finally-use-it-in-a-page" class="table-of-contents__link">6. Finally, use it in a page</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="MOXY studio logo" src="/img/logo-moxy.svg"></div><div>Copyright © 2021 MOXY studio</div></div></div></footer></div>
<script src="/styles.51f49359.js"></script>
<script src="/runtime~main.9ca25041.js"></script>
<script src="/main.48700671.js"></script>
<script src="/1.61890892.js"></script>
<script src="/2.67b377a2.js"></script>
<script src="/37.53b542f7.js"></script>
<script src="/40.e3b37ae4.js"></script>
<script src="/20ac7829.879bb2b8.js"></script>
<script src="/17896441.89eb0a52.js"></script>
<script src="/77d3348d.cbfd45ff.js"></script>
</body>
</html>