<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.60">
<link rel="search" type="application/opensearchdescription+xml" title="Next.js with MOXY" href="/opensearch.xml"><title data-react-helmet="true">Analytics and cookie consents | Next.js with MOXY</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Analytics and cookie consents | Next.js with MOXY"><meta data-react-helmet="true" name="description" content="Being able to evaluate how your audience interacts with your website is crucial in order to understand if the content you are creating is getting to them the way it&#x27;s intended to. Also, wouldn&#x27;t it be good to know how did said audience get to your website? Was it through a Google search? Facebook post, maybe? Is your investment in digital marketing being worthwhile? With all these topics in mind, an analytics solution was integrated into this boilerplate, allowing for easy data collection about how users interact with your application, ultimately giving you a sense of how well your website is performing, as well as how effective your digital marketing strategies are at any given moment."><meta data-react-helmet="true" property="og:description" content="Being able to evaluate how your audience interacts with your website is crucial in order to understand if the content you are creating is getting to them the way it&#x27;s intended to. Also, wouldn&#x27;t it be good to know how did said audience get to your website? Was it through a Google search? Facebook post, maybe? Is your investment in digital marketing being worthwhile? With all these topics in mind, an analytics solution was integrated into this boilerplate, allowing for easy data collection about how users interact with your application, ultimately giving you a sense of how well your website is performing, as well as how effective your digital marketing strategies are at any given moment."><meta data-react-helmet="true" property="og:url" content="https://next-with.moxy.tech/docs/what-is-included/analytics"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://next-with.moxy.tech/docs/what-is-included/analytics"><link rel="stylesheet" href="/styles.56dea92f.css">
<link rel="preload" href="/styles.5d7437c3.js" as="script">
<link rel="preload" href="/runtime~main.027048fc.js" as="script">
<link rel="preload" href="/main.da435f54.js" as="script">
<link rel="preload" href="/1.badcb999.js" as="script">
<link rel="preload" href="/2.74e29e00.js" as="script">
<link rel="preload" href="/40.906a8638.js" as="script">
<link rel="preload" href="/43.fd1caf80.js" as="script">
<link rel="preload" href="/20ac7829.7a580fcd.js" as="script">
<link rel="preload" href="/17896441.2334640d.js" as="script">
<link rel="preload" href="/4b98d149.dfd57cca.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo-nwm.png" alt="Next.js with MOXY"><strong class="navbar__title">Next.js with MOXY</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/moxystudio/next-with-moxy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx moon_6SPT"></span></div><div class="react-toggle-track-x"><span class="toggle_BsTx sun_152_"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo-nwm.png" alt="Next.js with MOXY"><strong class="navbar__title">Next.js with MOXY</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/moxystudio/next-with-moxy" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC sidebarWithHideableNavbar_2IoJ"><a tabindex="-1" class="sidebarLogo_Snse" href="/"><img src="/img/logo-nwm.png" alt="Next.js with MOXY"><strong>Next.js with MOXY</strong></a><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Welcome</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/welcome/what-is-this">What is this</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/welcome/instructions">Instructions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/welcome/conventions">Conventions</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">What&#x27;s included</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/available-scripts">Available scripts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/eslint-stylelint">ESLint &amp; Stylelint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/css-modules">CSS Modules with PostCSS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/breakpoints">Breakpoints</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/grid-system">Grid system</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/customizable-layout-support">Customizable layout support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/customizable-page-transitions">Customizable page transitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/internationalization">Internationalization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/sitemap-robots">Sitemap &amp; robots.txt</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/what-is-included/analytics">Analytics and cookie consents</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/testing-with-jest-rtl">Testing with Jest &amp; RTL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/browser-support">Browser support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/environment-variables">Environment variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/docker">Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/webpack-file-loaders">Webpack file loaders</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/webpack-one-of-rules">Webpack oneOf rules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/node-modules-compiling">Node modules compiling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-included/everything-else">And everything from Next.js</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Recipes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/recipes/rest-api">Simple REST API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/recipes/inner-vh">Inner vh CSS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/recipes/splash-screen">Splash screen</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/recipes/video-player">Video player</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/recipes/favicon-os-theme">Favicon according to OS theme</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/recipes/contentful">Contentful</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/recipes/dato-cms">DatoCMS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/recipes/setting-up-redux">Redux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/recipes/dropdown">Dropdown</a></li><li class="menu__list-item"><a href="https://next-with-moxy-recipes.moxy.tech" target="_blank" rel="noreferrer noopener" class="menu__link" tabindex="-1">Private recipes</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/this-document">This document</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Analytics and cookie consents</h1></header><div class="markdown"><p>Being able to evaluate how your audience interacts with your website is crucial in order to understand if the content you are creating is getting to them the way it&#x27;s intended to. Also, wouldn&#x27;t it be good to know how did said audience get to your website? Was it through a Google search? Facebook post, maybe? Is your investment in digital marketing being worthwhile? With all these topics in mind, an analytics solution was integrated into this boilerplate, allowing for easy data collection about how users interact with your application, ultimately giving you a sense of how well your website is performing, as well as how effective your digital marketing strategies are at any given moment.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="google-tag-manager"></a>Google Tag Manager<a aria-hidden="true" tabindex="-1" class="hash-link" href="#google-tag-manager" title="Direct link to heading">#</a></h2><p>The analytics solution we employed is based on <a href="https://tagmanager.google.com/" target="_blank" rel="noopener noreferrer">Google Tag Manager</a> (<code>GTM</code>), which has huge advantages in terms of ease of implementation, as it offers a lot of tracking features that can be integrated out of the box into your website without the need to interfere with the code. Anyone can start implementing tags and make the most of <code>GTM</code>, provided they learn how it works.</p><blockquote><p>ℹ️ It&#x27;s recommended that you have a <a href="https://analytics.google.com/analytics/web/" target="_blank" rel="noopener noreferrer">Google Analytics</a> (<code>GA</code>) account setup properly prior to start collecting data with <code>GTM</code>. It would also allow you to properly benefit from the use of <code>Urchin Tracking Module</code> (<code>UTM</code>) in your URLs (we will talk about this in a moment). If you haven&#x27;t already setup your <code>GA</code> account, check the <code>Get Started With Analytics</code> section of the official <a href="https://support.google.com/analytics/answer/1008015" target="_blank" rel="noopener noreferrer">documentation</a>. Nevertheless, if you think <code>GA</code> won&#x27;t fill your needs, fear not, as <code>GTM</code> supports a whole array of different tags and marketing pixels. Check a list of them all <a href="https://support.google.com/tagmanager/answer/6106924" target="_blank" rel="noopener noreferrer">here</a>, if you&#x27;d like.</p></blockquote><p>In order to start collecting data with <code>GTM</code>, start by creating a new account and container, as stated in the official <a href="https://support.google.com/tagmanager/answer/6103696" target="_blank" rel="noopener noreferrer">documentation</a>. After that, would you kindly get the container id, which should look similar to <code>GTM-XXXXXXX</code> and set it to the <code>GTM_CONTAINER_ID</code> environment variable. Okay, that&#x27;s it. You&#x27;re ready to collect valuable information about your website. To test if you set up things correctly, use the <a href="https://support.google.com/tagmanager/answer/6107056" target="_blank" rel="noopener noreferrer">Preview</a> feature of <code>GTM</code>. If a container appears at the bottom of your page when you run your app, it means that the setup was done properly and you can start creating your tags. Sometimes you may need to hard refresh your browser for it to appear, though.</p><p>Note that you can start developing your application as usual without having <code>GTM</code> set up from the start. If there is not a <code>GTM_CONTAINER_ID</code> environment variable set, the module simply won&#x27;t be initialized and everything will run smoothly. Refer to <a href="#removing-this-feature"><code>Removing this feature</code></a> at the end of this guide for an easy way to remove this feature if you don&#x27;t need it at all.</p><p>As stated before, one of the most common examples of an event to track would be page views, namely with <code>GA</code>. To do this, configure <code>GTM</code> with <code>GA</code>, as explained <a href="https://support.google.com/tagmanager/answer/6107124" target="_blank" rel="noopener noreferrer">here</a>. Note that for correctly tracking page views in an application built with Next.js, you need to take into account that the router uses HTML5 push. As in, route changing happens without the page actually being refreshed. It is of the utmost importance that you properly configure the <a href="https://support.google.com/tagmanager/answer/7679322" target="_blank" rel="noopener noreferrer"><code>History Change Trigger</code></a>.</p><p>It may be the case that you need to collect some more complex data for some more complex tags. For that, you&#x27;re probably going to want to use the <a href="https://developers.google.com/tag-manager/devguide" target="_blank" rel="noopener noreferrer">Data Layer</a>. The utility module available at <code>www/shared/utils/google-tag-manager</code> has a <code>dataLayer</code> function that you can use in your components. An example would be a blog post page, where developers would inject blog related data such as its ID, title, author and date, and then marketeers can pick this data to populate events in <code>GTM</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> dataLayer </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;./shared/utils/google-tag-manager&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(130, 170, 255)">Blog</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter"> blog </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">useEffect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">dataLayer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> blog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> blog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            author</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> blog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">author</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> blog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">date</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">blog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* ... */</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="urchin-tracking-module"></a>Urchin Tracking Module<a aria-hidden="true" tabindex="-1" class="hash-link" href="#urchin-tracking-module" title="Direct link to heading">#</a></h2><p><code>UTMs</code> are parameters put in external URLs that will help understand where did the redirect to your website come from. These are especially helpful for determining the effectiveness of marketing campaigns. Usually, you would use the official <a href="https://ga-dev-tools.appspot.com/campaign-url-builder/" target="_blank" rel="noopener noreferrer"><code>Campaign URL Builder</code></a>. But then, your URL would look something like this: <code>https://www.example.com/?utm_source=youtube&amp;utm_medium=video&amp;utm_campaign=winter_sale&amp;utm_term=shirt</code>. A little bit ugly of a URL, isn&#x27;t it? Well, <code>GTM</code> lets you make prettier URLs that collect the exact same data. We strongly recommend taking the approach described in this very detailed <a href="https://www.getelevar.com/how-to/hide-google-utm-parameters-from-url/" target="_blank" rel="noopener noreferrer">article</a>. Using this, your URLs would instead look something like <code>https://www.example.com/#youtube</code> and allow you to have the same valuable data provided by the <code>UTM&#x27;s</code>, if setup properly. In your <code>GA</code> dashboard, go check it out in <code>Real Time &gt; Traffic Sources</code>. The medium and sources you setup in <code>GTM</code> should be there. If not, <code>(none)</code> and <code>(direct)</code> will appear for each, respectively, and you need to take another look at the article to figure out what you did wrong.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="prompting-for-consent"></a>Prompting for consent<a aria-hidden="true" tabindex="-1" class="hash-link" href="#prompting-for-consent" title="Direct link to heading">#</a></h2><p>For privacy purposes, and in compliance with <a href="https://en.wikipedia.org/wiki/General_Data_Protection_Regulation" target="_blank" rel="noopener noreferrer">GDPR</a> and other regulations, apps need to ask the user for permission to collect user data. The boilerplate comes with a <code>&lt;CookieBanner /&gt;</code> component that allows exactly this. It prompts the user to consent the use of Cookies, namely for analytics, and saves the preference for 365 days.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="removing-this-feature"></a>Removing this feature<a aria-hidden="true" tabindex="-1" class="hash-link" href="#removing-this-feature" title="Direct link to heading">#</a></h2><p>If you are sure you do not need analytics in your project, you can remove all the analytics related code. To do so, take the following steps:</p><ol><li>Uninstall <code>use-local-storage-stage</code> if no other component uses it.</li><li>Remove the <code>&lt;CookieBanner /&gt;</code> component and its associated components.</li><li>Delete the <code>www/shared/utils/google-tag-manager</code> module. Also, make sure to cleanup the files where it was being used, such as the <code>&lt;App /&gt;</code> component. The global search feature of your editor will be your best friend here.</li><li>Update your unit tests if necessary so that they all pass!</li></ol></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/what-is-included/sitemap-robots"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Sitemap &amp; robots.txt</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/what-is-included/testing-with-jest-rtl"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Testing with Jest &amp; RTL »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#google-tag-manager" class="table-of-contents__link">Google Tag Manager</a></li><li><a href="#urchin-tracking-module" class="table-of-contents__link">Urchin Tracking Module</a></li><li><a href="#prompting-for-consent" class="table-of-contents__link">Prompting for consent</a></li><li><a href="#removing-this-feature" class="table-of-contents__link">Removing this feature</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="MOXY studio logo" src="/img/logo-moxy.svg"></div><div>Copyright © 2021 MOXY studio</div></div></div></footer></div>
<script src="/styles.5d7437c3.js"></script>
<script src="/runtime~main.027048fc.js"></script>
<script src="/main.da435f54.js"></script>
<script src="/1.badcb999.js"></script>
<script src="/2.74e29e00.js"></script>
<script src="/40.906a8638.js"></script>
<script src="/43.fd1caf80.js"></script>
<script src="/20ac7829.7a580fcd.js"></script>
<script src="/17896441.2334640d.js"></script>
<script src="/4b98d149.dfd57cca.js"></script>
</body>
</html>